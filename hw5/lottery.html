<!DOCTYPE html>

<html>
<head>
    <title>Lottery</title>

    <style type="text/css">
    h1 {
        text-align: center;
        background-color: rgb(238, 117, 117);
    }
    </style>

</head>

<body>
    <h1>COMP20 lottery</h1>

    <script language="javascript">
        /* list of all variables */
        var random_array = [];
        var same_array   = [];
        var lucky_num    = lucky();
        var input_array  = prompt("Enter your numbers with a space in between each number").split(" ")
        var input_lucky  = prompt("Enter a number");
    
        uniqueInt(random_array);
        input_array = input_array.sort(function(a, b){return a - b});
        same_array = compareArray(random_array, input_array);
        
        document.write("Your Pick: ");
        print(input_array);
        document.write(" LUCKY: " + input_lucky);

        document.write("<br/>Winning Numbers: ");
        print(random_array);

        document.write("<br/>Lucky Ball Number: " + lucky_num);
        
        document.write("<br/>Number(s) that match are: ");
        if (same_array.length == 0) {
            document.write("None");
        } else {
            print(same_array);
            document.write("<br/>So the number of matches are: " + same_array.length);
        }
        
        if (compareLucky(lucky_num, input_lucky)) {
            document.write("<br/>Lucky number and input number MATCHES!");
        } else {
            document.write("<br/>Lucky number and input number DON'T MATCH");
        }
        
        payout(same_array, lucky_num, input_lucky);

        /* uniqueInt
         * purpose: generates random unique integers from 1-48 and store 5 into an array
         * parameters: - array that stores integers
         * returns: the array containing 5 random unique integers
         */
        function uniqueInt(array)
        {
            while(array.length < 5){
                var r = Math.floor(Math.random() * 48) + 1;
                if(array.indexOf(r) === -1) array.push(r);
            }
            array.sort(function(a, b){return a - b});
            return array;
        }
    
        /* lucky
         * purpose: generates random integers from 1-18 and store one into a variable
         * parameters: none
         * returns: the random integer 
         */
        function lucky()
        {
            num = Math.floor(Math.random() * 18) + 1;
            return num;
        }
    
        /* compareArray
         * purpose: compares the values of two arrays and returns the values that are the same
         * parameters: - 5 integers generated from math.random
         *             - 5 integers inputted by the user
         * returns: array containing values that are the same between the two parameters
         */
        function compareArray(array, input_array)
        {
            same_array = []
            for (i = 0; i < 5; i++) {
                for (j = 0; j < 5; j++) {
                    if (array[i] == input_array[j]) {
                        same_array.push(array[i]);
                    }
                }
            }
            return same_array;
        }
    
        /* compareLucky
         * purpose: determine whether the lucky ball number is the same as that inputted
         * parameters: - lucky number generated by math.random
         *             - integer inputted by the user
         * returns: boolean true if values are the same and false if not.
         */
        function compareLucky(lucky_num, input_lucky) 
        {
            return Boolean(lucky_num == input_lucky);
        }
    
        /* print
         * purpose: print the array
         * parameters: array that stores integers
         * returns: none
         */
        function print(array) 
        {
            for (i = 0; i < array.length; i++) {
                document.write(array[i] + " ");
            }
        }
      
        /* payout
         * purpose: print the payout of the lottery
         * parameters: - array that stores integers if user had same numbers as the generated ones
         *             - the lucky ball number
         *             - integer inputted by the user
         * returns: none
         */
        function payout(same_array, lucky_num, input_lucky)
        {
            document.write("<br/>");
            if (same_array.length == 0 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: No prize");
            } else if (same_array.length == 0 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $4");
            } else if (same_array.length == 1 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: No prize");
            } else if (same_array.length == 1 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $6");
            } else if (same_array.length == 2 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $3");
            } else if (same_array.length == 2 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $25");
            } else if (same_array.length == 3 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $20");
            } else if (same_array.length == 3 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $150");
            } else if (same_array.length == 4 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $200");
            } else if (same_array.length == 4 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $5000");
            } else if (same_array.length == 5 && !compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $25000 a year for life");
            } else if (same_array.length == 5 && compareLucky(lucky_num, input_lucky)) {
                document.write("<br/>Your Winnings: You win $7000 a week for life");
            } 
        }
        </script>
</body>
</html>